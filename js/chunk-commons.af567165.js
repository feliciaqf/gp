(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-commons"],{"0773":function(t,a,e){"use strict";e("2ce6")},"179b":function(t,a){t.exports="data:image/png;base64,77+9UE5HDQoaCgAAAA1JSERSAAAAQAAAAEAIBgAAAO+/vWlx77+9AAAE77+9SURBVHhe77+92YscVRTvv73vv73rhrtx77+9N1QURRRFRO+/ve+/vUfvv73cl2fvv70l77+9Re+/vQ4+77+9H++/ve+/ve+/ve+/ve+/veK+jO+/vSRm77+9CWPvv70rX++/ve+/ve+/ve+/vemZqu+/vS3vv71TOVA0TXdV77+977+9Zz/vv70mOu+/ve+/ve+/ve+/ve+/ve+/vXHvv70C77+977+9K++/vSUHOe+/vcOA77+9Ie+/vV/vv73vv73vv73vv707I++/vWjvv71y77+9CnwGcDrvv73vv71NSDAOAmspJUFp77+9WgMg77+977+977+9Au+/vWxB6K2EFO+/vX/vv73vv71TSmpNY2oMQAh+dgh/UmPvv73vv70977+977+9IAB/NQXvv70RADlnV++/vVzvv70v77+9Z++/vRHvv70DKSXvv73vv70W77+9AiAc77+977+977+9ae+/ve+/ve+/ve+/vU3vv73vv73vv706DnNhAHLvv70677+977+977+9bwXvv73vv73vv71nSmltEXwXAiDnrLpr77+9Qybvv73Cge+/vQxWBiDvv73Ku++/ve+/vUDvv73vv719VRjvv70EQO+/ve+/ve+/ve+/ve+/vVXvv70577+977+9HEwp77+9LWPvv70U77+9JVvvv71ZeUs1YVsA77+977+977+977+9Fnlb77+977+9JQDvv73vv73vv73vv73vv71A77+9yLnvv71hLgAR77+9Lx5g77+977+977+9GO+/ve+/vT0pJVPvv71N77+9FQAXDSjJqSvvv73vv71977+9Ke+/vT3vv70ARHrvv73vv73vv73vv70O77+9Oe+/vWfvv73vv71NGhDvv73NpTtI77+9Z++/ve+/vRRW77+9C++/vVkA77+9Ae+/vXYy77+977+977+9VicCbgAw77+91Z/IvEkL77+9Ae+/ve+/vWHvv70zBu+/vWjvv73vv71Q77+977+9Cu+/vTlf77+9YSdnaO+/vR5KKe+/ve+/vQFA77+977+977+977+9YyLvv73vv71CA3ZIyrvvv73vv70VKe+/vQTvv70x77+977+9BO+/ve+/vQxS77+977+977+977+977+977+9Zu+/ve+/ve+/vQPvv71Gfwbvv73vv71nJlYE77+93r3vv71+77+9dBPvv70a77+977+977+9Gxvvv73vv70AHgM+65GR77+9Au+/vXfvv71zYwjvv73ZvQ08CzwHPBAgPAp877+9Ewjvv70C77+9Z++/ve+/vRBe77+9eyfvv73elu+/ve+/ve+/ve+/ve+/ve+/ve+/vQFB77+977+9BxDvv70E77+977+977+977+9eu+/vXXvv70y77+9Xe+/ve+/vVDvv73vv73vv73vv70YBO+/vT7vv70YLQhfdQzCugDvv70aDivvv73vv73vv71C77+9y4Hvv73vv73vv73vv73vv73vv71577+9IO+/vRjvv71oCRDvv73ukLHvv70CIFPvv73vv73vv70GTFwb77+9XwHvv70f77+9bxQjc++/ve+/vUN8Ee+/vQfvv70VeATvv73vv73vv73vv73vv73vv73vv71I77+9AFwN77+9AVwJfAA877+9KO+/ve+/vTDvv70edgN3A++/vQQI77+9Vu+/vW/Rv++/vS4B77+9Ku+/ve+/ve+/vUPvv73vv73vv73vv71P77+9MDoJ77+9Xe+/ve+/vQHvv71377+9Sljvv73vv73vv70AcO+/vXV477+9AB8B77+9O++/ve+/ve+/ve+/ve+/ve+/ve+/ve+/vTvvv73vv73vv73vv73vv70fajxn77+9WwoTaO+/vQlq77+9Cu+/ve+/vX8c77+977+977+9BkwL77+977+977+9He+/ve+/vQHvv73vv71tUO+/vQTvv70M77+9OlTvv73vv73vv71/Eu+/vVcaUe+/vUhj77+977+9Fe+/vXbvv73vv70wBzXvv70pFWHvv73vv71E77+977+977+977+977+9e++/vVnvv71477+9aGoBCWzUvgrvv70G77+9C++/vQ7vv73vv70mVCRCbe+/vcKm77+9Cm/vv71nGu+/ve+/ve+/ve+/vW3vv73vv70lCO+/vQJGBUEwStSlIhVuWgxZ77+9KO+/vTnvv70XIe+/vTHvv73vv73vv70czrnvv73vv73vv71C77+977+9DwTvv71877+9DhXFkFlg77+9cu+/ve+/ve+/vU3vv71W77+9Me+/ve+/vS4MECzvv70t77+9H++/ve+/vcKVNhoib8amCe+/vdui77+977+9E++/ve+/vRjvv70677+9UO+/vXcebe+/vXjjiZZY77+9bnYS77+9Me+/ve+/vU3vv73QgjHvv70FN++/ve+/vQPvv70xDUbvv71bWO+/ve+/vSdGY++/vUbvv71SUjR0PzJ/OBpm77+9Ru+/vXc8HiDYlhrvv70G77+977+977+9XCEO77+9JO+/vW3vv70JLe+/vXnvv73vv73vv70F77+9Nmjvv71t77+9ChDvv73Vj3Pvv73clCks77+977+977+9Mm3vv73vv71Rcgrvv73vv70aJmXvv71277+9e++/ve+/ve+/vVMg77+9d++/ve+/ve+/vWpC77+977+9T++/vVpoIu+/vSRlczcHJu+/vTRh77+9R2bvv71AME8wWxzSoSnvv73vv70e77+9Ge+/vcyzLmQC77+9Dxvvv73vv73vv73vv70KUhDvv715cHIOEO+/vTs6O++/ve+/ve+/ve+/vR7vv73vv702D097CO+/vQPvv73vv71SIx9Q77+977+977+9H++/ve+/vQ/vv70O77+9Ku+/vcuI77+9AAAAAElFTkTvv71CYO+/vQ=="},"2ce6":function(t,a,e){},"2e25":function(t,a,e){},"49db":function(t,a,e){},5608:function(t,a,e){"use strict";e("6762"),e("2fdb");var v=e("c1df"),s=e.n(v),n={components:{Lheader:e("40ef").a},props:{value:{type:Boolean,default:!1},type:{type:String,default:"year-month"}},watch:{value:function(t){this.isShow=t}},data:function(){return{dayValue:"",province:"",city:"",isShow:!1,days:[{name:this.$t("全部"),value:""},{name:this.$t("一天"),value:"1"},{name:this.$t("三天"),value:"3"},{name:this.$t("十五天"),value:"15"},{name:this.$t("三十天"),value:"30"}],areaData:{},showStartDate:!1,showEndDate:!1,currentDate:new Date,minDate:new Date(2017,0),maxDate:new Date,discountData:{start_text:this.$t("开始时间"),end_text:this.$t("结束时间"),page:1,access_token:window.localStorage.agToken,size:200,start_date:"",end_date:""},yaboBoxMiddle:["10024","10042","10043"].includes("10031"),esportBoxMiddle:["10050"].includes("10031")}},methods:{getDateStr:function(t){return s()(t).format("date"===this.type?"YYYY-MM-DD":"YYYY-MM")},gettime:function(){return this.getDateStr(new Date)},onConfirmStartDate:function(t){var a=this.getDateStr(t);this.discountData.start_date=a,this.discountData.start_text=a,this.showStartDate=!1},onConfirmEndDate:function(t){var a=this.getDateStr(t);this.discountData.end_date=a,this.discountData.end_text=a,this.showEndDate=!1},onDay:function(t){this.dayValue=t,t?(this.onConfirmStartDate(s()().subtract(t-1,"days")),this.onConfirmEndDate(new Date)):this.discountData={start_text:this.$t("开始时间"),end_text:this.$t("结束时间"),start_date:"",end_date:""}},onCancelStartDate:function(t){this.showStartDate=!1},onCancelEndDate:function(t){this.showEndDate=!1},openPopup:function(){this.isShow=!0},onChange:function(t,a){t.setColumnValues(1,this.areaData[a[0]])},onConfirm:function(){this.$emit("onConfirm",this.discountData),this.onCancel()},onCancel:function(){this.$emit("input",!1)}},mounted:function(){}},i=(e("0773"),e("0c7c")),o=Object(i.a)(n,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"province-city"},[t.yaboBoxMiddle||t.esportBoxMiddle||"10037"!==t.$projectname?[e("van-popup",{staticClass:"custom close-top",attrs:{closeable:"",round:"","get-container":"#app","close-icon-position":"top-right"},on:{closed:t.onCancel},model:{value:t.isShow,callback:function(a){t.isShow=a},expression:"isShow"}},[e("div",{staticClass:"pop-head"},[e("h2",[t._v(t._s(t.$t("记录筛选")))])]),e("div",{staticClass:"select"},[e("p",{staticClass:"title"},[t._v(t._s(t.$t("选择时间")))]),e("van-row",{staticStyle:{margin:"0"}},[e("van-col",{staticClass:"col-s",staticStyle:{"margin-right":"12px"},attrs:{span:"12"},nativeOn:{click:function(a){t.showStartDate=!0}}},[t._v("\n            "+t._s(t.discountData.start_text)+"\n            "),e("i")]),e("van-col",{staticClass:"col-e",attrs:{span:"12"},nativeOn:{click:function(a){t.showEndDate=!0}}},[t._v("\n            "+t._s(t.discountData.end_text)+"\n            "),e("i")])],1),"date"===t.type?e("div",{staticClass:"days"},t._l(t.days,(function(a,v){return e("div",{key:v,staticClass:"_day"},[e("div",{staticClass:"day",class:{active:a.value==t.dayValue},on:{click:function(e){return t.onDay(a.value)}}},[t._v("\n              "+t._s(a.name)+"\n            ")])])})),0):t._e()],1),e("div",{staticClass:"aagames-button-box"},[e("button",{staticClass:"aagames-button",attrs:{type:"button"},on:{click:t.onConfirm}},[t._v("\n          确定\n        ")])])]),e("van-popup",{attrs:{position:"bottom","get-container":"#app"},model:{value:t.showStartDate,callback:function(a){t.showStartDate=a},expression:"showStartDate"}},[e("van-datetime-picker",{attrs:{"min-date":t.minDate,"max-date":t.maxDate,type:t.type},on:{confirm:t.onConfirmStartDate,cancel:t.onCancelStartDate},model:{value:t.currentDate,callback:function(a){t.currentDate=a},expression:"currentDate"}})],1),e("van-popup",{attrs:{position:"bottom","get-container":"#app"},model:{value:t.showEndDate,callback:function(a){t.showEndDate=a},expression:"showEndDate"}},[e("van-datetime-picker",{attrs:{"min-date":t.minDate,"max-date":t.maxDate,type:t.type},on:{confirm:t.onConfirmEndDate,cancel:t.onCancelEndDate},model:{value:t.currentDate,callback:function(a){t.currentDate=a},expression:"currentDate"}})],1)]:[e("van-popup",{staticClass:"custom",attrs:{position:"bottom",closeable:"",round:"","get-container":"#app","close-icon-position":"top-left"},on:{closed:t.onCancel},model:{value:t.isShow,callback:function(a){t.isShow=a},expression:"isShow"}},[e("div",{staticClass:"pop-head"},[e("h2",[t._v(t._s(t.$t("记录筛选")))])]),e("div",{staticClass:"list"},[e("div",{staticClass:"select"},[e("p",{staticClass:"title"},[t._v(t._s(t.$t("选择时间")))]),e("van-row",{staticStyle:{margin:"0"}},[e("van-col",{staticClass:"col-s",staticStyle:{"margin-right":"12px"},attrs:{span:"12"},nativeOn:{click:function(a){t.showStartDate=!0}}},[t._v("\n              "+t._s(t.discountData.start_text)+"\n              "),e("i")]),e("van-col",{staticClass:"col-e",attrs:{span:"12"},nativeOn:{click:function(a){t.showEndDate=!0}}},[t._v("\n              "+t._s(t.discountData.end_text)+"\n              "),e("i")])],1),"date"===t.type?e("div",{staticClass:"days"},t._l(t.days,(function(a,v){return e("div",{key:v,staticClass:"_day"},[e("div",{staticClass:"day",class:{active:a.value==t.dayValue},on:{click:function(e){return t.onDay(a.value)}}},[t._v("\n                "+t._s(a.name)+"\n              ")])])})),0):t._e()],1),t._t("input")],2),e("div",{staticClass:"aagames-button-box"},[e("button",{staticClass:"aagames-button",attrs:{type:"button"},on:{click:t.onConfirm}},[t._v("\n          确定\n        ")])])]),e("van-popup",{attrs:{position:"bottom"},model:{value:t.showStartDate,callback:function(a){t.showStartDate=a},expression:"showStartDate"}},[e("van-datetime-picker",{attrs:{"min-date":t.minDate,"max-date":t.maxDate,type:t.type},on:{confirm:t.onConfirmStartDate,cancel:t.onCancelStartDate},model:{value:t.currentDate,callback:function(a){t.currentDate=a},expression:"currentDate"}})],1),e("van-popup",{attrs:{position:"bottom"},model:{value:t.showEndDate,callback:function(a){t.showEndDate=a},expression:"showEndDate"}},[e("van-datetime-picker",{attrs:{"min-date":t.minDate,"max-date":t.maxDate,type:t.type},on:{confirm:t.onConfirmEndDate,cancel:t.onCancelEndDate},model:{value:t.currentDate,callback:function(a){t.currentDate=a},expression:"currentDate"}})],1)]],2)}),[],!1,null,"160c009d",null);a.a=o.exports},"84f7":function(t,a,e){"use strict";var v={data:function(){return{show:!1}},methods:{goToTop:function(){document.body.scrollTop=document.documentElement.scrollTop=0}}},s=(e("8f05"),e("0c7c")),n=Object(s.a)(v,(function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"to-top",attrs:{id:"to-top-s"},on:{click:this.goToTop}},[a("img",{attrs:{src:e("179b"),alt:""}})])}),[],!1,null,"20c835cf",null);a.a=n.exports},"8f05":function(t,a,e){"use strict";e("49db")},a88a:function(t,a,e){"use strict";e("2e25")},e9a6:function(t,a,e){"use strict";e("28a5");var v=e("b1f8"),s=(e("6762"),e("2fdb"),e("c5f6"),e("a546")),n=e("c428"),i=e("8055"),o=e.n(i),c={props:{defaultVid:{type:String,default:""},canvasWidth:{type:Number,default:380},canvasHeight:{type:Number,default:140},cellSize:{type:Number,default:20},lineWidth:{type:Number,default:.5},zoom:{type:Number,default:2},gameData:{type:[Object,Array]},type:{type:String,default:"index"}},components:{Loading:n.a},data:function(){return{tableTtileMaps:{BAC:this.$t("经典百家乐"),CBAC:this.$t("包桌百家乐"),TBAC:this.$t("竞咪百家乐"),LBAC:this.$t("现场百家乐"),SBAC:this.$t("保险百家乐"),BBAC:this.$t("龙宝百家乐"),SHB:this.$t("骰宝"),DT:this.$t("龙虎"),ROU:this.$t("轮盘"),TEB:this.$t("二八杠"),NN:this.$t("牛牛")},canvas:null,roadmap:null,canvasOnReady:!1,vid:"",vids:[],allTables:null,tableTypes:[],timer:null,secondsStr:"00:00",statistics:{},roadmapDatas:{}}},mounted:function(){this.getVid();var t=this.cellSize,a=this.lineWidth,e=this.canvasHeight,v=this.zoom,s=null;s=["wanqu"].includes(this.$projectname)&&"casion"===this.type?document.getElementsByClassName("canvas")[1].offsetWidth:document.getElementsByClassName("canvas")[0].offsetWidth;var n=t+a,i=Math.floor(s/n)*n,o=this.$refs.canvas;this.noopen=this.$refs.noopen,o.width=i*v,o.height=e*v,o.style.zoom=1/v,this.canvas=o.getContext("2d"),this.connectSocket()},methods:{play:function(){this.$playGame(this.gameData,this.$t("真人"))},randomVid:function(){this.$emit("change"),this.$forceUpdate()},getVid:function(){var t=["D051","D052","D053","D054","D055","D056","D058"],a=this.defaultVid;return this.vid=a||t[Math.floor(Math.random()*t.length)]},initRoadMap:function(t){this.getGameTables(t);var a=this.canvas,e=this.canvasWidth,v=this.canvasHeight,n=this.zoom,i=this.cellSize,o=this.vid,c=this.allTables[o];this.roadmap=Object(s.a)({canvas:a,canvasWidth:e,canvasHeight:v,cellSize:i,gameType:c,zoom:n}),this.canvasOnReady=!0},getGameTables:function(t){var a=[],e={},s=this.tableTypes,n=this.vid;for(var i in t)if(t.hasOwnProperty(i)){var o=t[i],c=o.gameType;e[i]=c,s.indexOf(c)<0&&s.push(c),o.roundCount>0&&("BAC"!=c&&"CBAC"!=c||a.push(i))}n||(a[Math.floor(Math.random()*a.length)],Object(v.a)("vid")),this.vid=n,this.allTables=e,this.vids=a},countdown:function(){var t=this,a=this;a.countdownStop(),a.timer=setInterval((function(){a.roadmapDatas.seconds--,a.roadmapDatas.seconds<=0&&(a.roadmapDatas.seconds=0,a.countdownStop()),t.formatSeconds()}),1e3)},countdownStop:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},formatSeconds:function(){var t=this.roadmapDatas.seconds;if(!t)return this.secondsStr="00:00";t=(t="0000".substr(0,"0000".length-(t+="").length)+t).split(""),this.secondsStr=t[0]+t[1]+":"+t[2]+t[3]},formatStatistics:function(t){var a=this.roadmap,e=this.statistics,v=(this.roadmapDatas.gameType,a.sumbig),s=a.sumsmall,n=a.sumdan,i=a.sumshuang,o=a.baozi,c=a.bankerNum,r=a.playerNum,d=a.tieNum;Object.assign(e,{sumbig:v,sumsmall:s,sumdan:n,sumshuang:i,baozi:o,bankerNum:c,playerNum:r,tieNum:d})},connectSocket:function(){var t=this,a="http"===window.location.protocol?"http://roadmap.9mbv.com:8080":"https://roadmap.9mbv.com:7070",e=o()(a);e.on("connect",(function(){})),e.on("connect_error",(function(){})),e.on("result list",(function(a){t.onResultList(a)})),e.on("new shoes",(function(a){t.onNewShoes(a)})),e.on("new round",(function(a){t.onNewRound(a)})),e.on("close round",(function(a){t.onCloseRound(a)}))},onResultList:function(t){var a=JSON.parse(t);!this.canvasOnReady&&this.initRoadMap(a);var e=this.canvas,v=this.roadmap,s=this.vid,n=this.canvasWidth,i=this.canvasHeight,o=a[s];o.roundCount&&(this.roadmapDatas.noopen=!1),v.removeAll(),v.setIList(o),v.clearDraw(e,n,i),v.drawPath(),v.drawBeads(),this.roadmapDatas=Object.assign({},this.roadmapDatas,{gameType:o.gameType,gmcode:o.gmcode,roundCount:o.roundCount,seconds:o.seconds}),this.countdown(),this.formatStatistics()},onNewShoes:function(t){var a=JSON.parse(t),e=a.vid,v=this.canvas,s=this.roadmap,n=this.vid,i=this.canvasWidth,o=this.canvasHeight;n===e&&(this.roadmapDatas.noopen=!0,s.removeAll(),s.clearDraw(v,i,o),s.drawPath(),s.drawBeads(),this.roadmapDatas=Object.assign({},this.roadmapDatas,{gameType:a.gameType,gmcode:a.gmcode,roundCount:1,seconds:a.seconds}),this.formatStatistics())},onNewRound:function(t){var a=JSON.parse(t);a.vid===this.vid&&(this.roadmapDatas=Object.assign({},this.roadmapDatas,{seconds:a.seconds,noopen:!1}),this.countdown())},onCloseRound:function(t){var a=JSON.parse(t),e=a.vid,v=a.gmcode,s=this.canvas,n=this.roadmap,i=this.vid,o=this.canvasWidth,c=this.canvasHeight;i===e&&v!==this.roadmapDatas.gmcode&&(this.countdownStop(),n.removeAllNotDataList(),n.appendIList(a),n.clearDraw(s,o,c),n.drawPath(),n.drawBeads(),this.roadmapDatas=Object.assign({},this.roadmapDatas,{gmcode:v,roundCount:a.round,noopen:!0}),this.formatStatistics())}}},r=(e("a88a"),e("0c7c")),d=Object(r.a)(c,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"roadmap"},[e("div",{staticClass:"roadmap-item"},[e("div",{staticClass:"canvas"},[e("canvas",{ref:"canvas"}),t.roadmapDatas.noopen?e("div",{ref:"noopen",attrs:{"data-noopen":""}},[t._v(t._s(t.$t("发牌中")))]):t._e()]),t.canvasOnReady?e("div",{ref:"mapinfo",staticClass:"mapinfo"},[e("div",{staticClass:"countdown"},[t._v(t._s(t.secondsStr))]),e("p",[t._v(t._s(t.$t("距离本局结束")))]),e("a",{on:{click:t.play}},[t._v(t._s(t.$t("快速入桌")))])]):t._e(),t.canvasOnReady?e("div",{staticClass:"table-info"},[e("h4",[e("em",[t._v(t._s(t.vid.replace("00","0")))]),e("span",[t._v(t._s(t.tableTtileMaps[t.roadmapDatas.gameType]))])]),e("div",{staticClass:"roadmap-statistics"},[e("label",{attrs:{"data-banker":""}},[e("span",[t._v(t._s(t.$t("庄")))]),e("span",{staticClass:"c-banker"},[t._v(t._s(t.statistics.bankerNum))])]),e("label",{attrs:{"data-tie":""}},[e("span",[t._v(t._s(t.$t("和")))]),e("span",{staticClass:"c-tie"},[t._v(t._s(t.statistics.tieNum))])]),e("label",{attrs:{"data-player":""}},[e("span",[t._v(t._s(t.$t("闲")))]),e("span",{staticClass:"c-player"},[t._v(t._s(t.statistics.playerNum))])])])]):t._e()]),e("Loading",{attrs:{isShow:!t.canvasOnReady}})],1)}),[],!1,null,"56deb888",null);a.a=d.exports}}]);