(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-8e74b476"],{"9af5":function(t,a,e){},d8bb:function(t,a,e){"use strict";e("9af5")},dd45:function(t,a,e){"use strict";e.r(a),e("ac4d"),e("8a81"),e("5df3"),e("1c4c"),e("7f7f"),e("6b54"),e("8e6e"),e("456d"),e("55dd"),e("c5f6"),e("28a5"),e("ac6a");var o=e("ade3"),s=e("40ef"),n=e("bd8a"),i=(e("fe01"),e("df7c"),e("2f62")),l=e("2b0e"),r=e("d399");function c(t,a){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,a){if(t){if("string"==typeof t)return m(t,a);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?m(t,a):void 0}}(t))||a&&t&&"number"==typeof t.length){e&&(t=e);var o=0,s=function(){};return{s:s,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,l=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return i=t.done,t},e:function(t){l=!0,n=t},f:function(){try{i||null==e.return||e.return()}finally{if(l)throw n}}}}function m(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,o=new Array(a);e<a;e++)o[e]=t[e];return o}function f(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,o)}return e}function _(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?f(Object(e),!0).forEach((function(a){Object(o.a)(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):f(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}l.a.use(r.a);var h={name:"quotaTransfer",data:function(){return{icons:{},title:this.$t("额度转账"),showKeyboard:!1,gameStatus:{},gameColumns:[],isOpen:0,columns:[{values:[],className:"column1"},{values:[],className:"column2"}],gameShow:!1,isDisabled:!1,type:"",list:{pay_password:"1",from_platform_id:0,to_platform_id:0,from_platform_name:this.$t("主账户"),to_platform_name:this.$t("主账户"),from_money_code:"money",from_money:"0"},walletList:[],walletMoney:{},data:{},openMoney:!1,money:"",balanceLoading:!1,chooseText:"",chooseList:[],activeIndex:-1,allMoney:"",gameAll:!1,activeList:[],activeChooseFrom:0,activeChooseTo:0,shareWallet:{}}},computed:_(_({},Object(i.d)("users",["wallet"])),Object(i.d)("games",["gameCatesPlatforms"])),methods:{onChange:function(t){var a=this;this.data.is_auto_trans=t?1:2,Object(n.k)(this.data).then((function(e){2===a.data.is_auto_trans?a.$toast(a.$t("关闭成功")):a.$toast(a.$t("开启成功")),a.openMoney=t}))},chooseFather:function(t,a){-1==this.activeList.indexOf(a)?this.activeList.push(a):this.activeList.splice(this.activeList.indexOf(a),1),0==a&&(this.activeChooseFrom=0,this.list.from_platform_id=0,this.list.from_platform_name=this.$t("主账户"),this.allMoney=this.wallet.money,this.list.from_money=this.wallet.money,this.gameAll=!1)},chooseSon:function(t){this.activeChooseFrom=t.game_platform_id,this.list.from_platform_id=t.game_platform_id,this.list.from_platform_name=t.game_platform_name,this.list.from_money=t.money||"0.00",this.list.from_money_code=t.money_code,this.allMoney=this.list.from_money,this.gameAll=!1},recovery:function(){var t=this;this.$toast.loading({className:"toast-loading",mask:!0,forbidClick:!0,loadingType:"spinner",message:this.$t("回收中..."),duration:0}),Object(n.l)(this.data).then((function(a){t.$toast.clear(),0===a.data.code?t.walletM(t.$t("回收成功")):t.$toast.fail(a.data.msg)}))},chooseItem:function(t,a){this.chooseText=t.game_platform_name,this.chooseList=t.platform_list,a!==this.activeIndex&&(this.activeIndex=a,this.list.to_platform_name=this.$t("主账户"),this.list.to_platform_id=0,this.activeChooseTo=0),0!=a&&(this.gameShow=!0)},submit:function(){var t=this;return this.list.money=this.money,null==this.list.from_platform_id?(this.$toast.fail(this.$t("请选择转出账户")),!1):null==this.list.to_platform_id?(this.$toast.fail(this.$t("请选择转入账户")),!1):this.list.money?(this.$toast.loading({className:"toast-loading",mask:!0,forbidClick:!0,loadingType:"spinner",message:this.$t("转帐中..."),duration:0}),this.list.access_token=window.localStorage.token,void Object(n.X)(this.list).then((function(a){t.$toast.clear(),0===a.data.code?(t.money="",t.walletM(t.$t("转账成功"))):t.$toast.fail(a.data.msg)}))):(this.$toast.fail(this.$t("请输入转账金额")),!1)},refresh:function(){this.walletM(this.$t("余额刷新成功"))},walletM:function(t){var a=this;this.balanceLoading=!0,this.$loading({className:"toast-loading",mask:!0,forbidClick:!0,loadingType:"spinner",message:this.$t("刷新余额中..."),duration:0}),Object(n.cb)(this.data).then((function(e){if(0===e.data.code){a.$toast.clear(),a.list.from_money=e.data.data.money||"0.00",a.allMoney=a.list.from_money,a.balanceLoading=!1,a.isOpen=e.data.data.is_auto_trans,a.openMoney=1==e.data.data.is_auto_trans,a.walletMoney=e.data.data;var o=a.walletList;t&&a.$toast(t),o.forEach((function(t){for(var o in t.game_cate_id==e.data.data.last_platform_cate_id?t.hot=1:delete t.hot,t.money=0,a.walletMoney)t.game_cate_id==o.split("_")[1]&&(t.money=(1*a.walletMoney[o]).toFixed(2)),"money"==o&&(t.money=(1*a.walletMoney[o]).toFixed(2));t.platform_list&&t.platform_list.forEach((function(t){for(var e in a.walletMoney)t.money_code==e&&(t.money=(1*a.walletMoney[e]).toFixed(2))}))})),0==e.data.data.last_platform_cate_id&&(o[0].hot=1),a.walletList=o}})).catch((function(){a.$toast.clear(),a.balanceLoading=!1}))},choosePlat:function(t){this.list.to_platform_id=t.game_platform_id,this.activeChooseTo=t.game_platform_id,this.list.to_platform_name=t.game_platform_name,this.gameShow=!1},getMoneyOut:function(){this.openMoney||(this.gameAll=!0)},shareMoney:function(t){this.$toast("(".concat(this.shareWallet[t].join("+"),")").concat(this.$t("余额共享")))}},created:function(){var t=this;Object(n.i)(this.data).then((function(a){if(0===a.data.code){t.gameStatus=a.data.data;var e=[{id:0,text:t.$t("主账户")}];for(var o in a.data.data)e.push({id:Number(o),text:a.data.data[o]});t.gameColumns=e}})),Object(n.x)(this.data).then((function(a){if(0===a.data.code){var e,o=a.data.data,s=c(o);try{for(s.s();!(e=s.n()).done;){var n=e.value;n.game_platform_name=n.game_cate_name}}catch(t){s.e(t)}finally{s.f()}o.unshift({game_platform_name:t.$t("主账户"),game_platform_id:0,game_cate_id:0,money:t.wallet.money}),t.columns[0].values=o,t.columns[1].values=o[0].platform_list;var i=[],l=[];o.forEach((function(t){t.platform_list&&t.platform_list.forEach((function(t){l.push(t.money_code)}))})),l.concat().sort().sort((function(t,a){t==a&&-1===i.indexOf(t)&&i.push(t)})),o.forEach((function(t){t.platform_list&&t.platform_list.forEach((function(t){i.forEach((function(a){t.money_code==a&&(t.isShare=!0)}))}))})),i.forEach((function(a){t.shareWallet[a]=[],o.forEach((function(e){e.platform_list&&e.platform_list.forEach((function(e){e.money_code==a&&-1==t.shareWallet[a].indexOf(e.game_platform_name)&&t.shareWallet[a].push(e.game_platform_name)}))}))})),t.walletList=o}t.walletM()})),this.list.from_money=this.wallet&&this.wallet.money||"0.00",this.allMoney=this.list.from_money},watch:{wallet:{handler:function(t){this.isOpen=t.is_auto_trans,this.openMoney=1==t.is_auto_trans,0!=t.last_platform_cate_id?this.walletList.forEach((function(a){a.game_cate_id==t.last_platform_cate_id?a.hot=1:delete a.hot})):this.walletList[0].hot=1},deep:!0},walletMoney:{handler:function(t){this.list.from_money=(1*t[this.list.from_money_code]||0).toFixed(2)},deep:!0}},components:{Lheader:s.a}},d=(e("d8bb"),e("0c7c")),u=Object(d.a)(h,(function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"container quota"},[o("lheader",{attrs:{title:t.title,path:"111",turn:t.isOpen,help:!0},on:{"update:turn":function(a){t.isOpen=a}}}),o("div",{attrs:{id:"apply"}},[o("div",{staticClass:"main"},[o("div",{staticClass:"accout"},[o("div",{staticClass:"automatic"},[o("span",[t._v(t._s(t.$t("自动免转钱包")))]),o("van-switch",{attrs:{"inactive-color":t.$colorjs.switchInactiveColor,"active-color":t.$colorjs.switchActiveColor,size:"24px"},on:{input:t.onChange},model:{value:t.openMoney,callback:function(a){t.openMoney=a},expression:"openMoney"}})],1),o("div",{staticClass:"transfer_out"},[t.openMoney?t._e():o("p",[t._v(t._s(t.$t("转出钱包")))]),o("div",{staticClass:"content"},[o("div",{staticClass:"content_l"},[o("span",{staticClass:"wallet"},[t._v(t._s(t.list.from_platform_name))]),o("span",{staticClass:"num"},[t._v(t._s(t.list.from_money))]),o("van-icon",{staticClass:"refresh",class:{active:t.balanceLoading},attrs:{name:"replay"},on:{click:t.refresh}})],1),o("div",{staticClass:"arrow-container",on:{click:t.getMoneyOut}},[t.openMoney?t._e():o("img",{staticClass:"arrow_r",attrs:{src:e("8c7a"),alt:""}})])])]),t.openMoney?o("div",{staticClass:"btn-all"},[o("div",{on:{click:t.recovery}},[t._v(t._s(t.$t("一键回收")))])]):t._e(),t.openMoney?o("p",{staticClass:"note"},[t._v(t._s(t.$t("游戏大厅")))]):t._e(),t.openMoney?t._e():o("p",{staticClass:"trans-in"},[t._v(t._s(t.$t("转入钱包")))]),o("ul",t._l(t.walletList,(function(a,s){return o("li",{key:s,class:{active:t.activeIndex==s},on:{click:function(e){return t.chooseItem(a,s)}}},[o("p",[t._v(t._s(a.game_platform_name)),o("span",{directives:[{name:"show",rawName:"v-show",value:"主账户"!==t.list.to_platform_name&&t.activeIndex==s&&!t.openMoney,expression:"list.to_platform_name !== '主账户' && activeIndex == index && !openMoney"}]},[t._v("("+t._s(t.list.to_platform_name)+")")])]),o("p",[t._v(t._s(t._f("currency")(a.money||0,"")))]),1==a.hot?o("img",{attrs:{src:e("dff4"),alt:""}}):t._e()])})),0),t.openMoney?t._e():o("div",{staticClass:"transfer"},[o("p",[t._v(t._s(t.$t("转账金额")))]),o("div",{staticClass:"input_"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],attrs:{type:"number",placeholder:t.$t("请输入转账金额")},domProps:{value:t.money},on:{input:function(a){a.target.composing||(t.money=a.target.value)}}}),o("span",{on:{click:function(a){t.money=t.allMoney}}},[t._v(t._s(t.$t("全部转入")))])]),o("div",{staticClass:"aagames-button-box btn"},[o("div",{staticClass:"line",on:{click:t.recovery}},[t._v(t._s(t.$t("一键回收")))]),o("div",{on:{click:t.submit}},[t._v(t._s(t.$t("确认转账")))])])])])])]),o("van-popup",{staticClass:"custom",attrs:{position:"bottom"},model:{value:t.gameShow,callback:function(a){t.gameShow=a},expression:"gameShow"}},[o("div",{staticClass:"head"},[o("img",{attrs:{src:e("9476"),alt:""},on:{click:function(a){t.gameShow=!1}}}),o("p",[t._v(t._s(t.chooseText))])]),o("div",{staticClass:"list"},[o("ul",t._l(t.chooseList,(function(a,s){return o("li",{key:s},[o("p",{staticClass:"name",on:{click:function(e){return t.choosePlat(a)}}},[t._v(t._s(a.game_platform_name))]),o("p",{staticClass:"money",on:{click:function(e){return t.choosePlat(a)}}},[t._v(t._s(a.money))]),a.game_platform_id!=t.activeChooseTo||t.openMoney?t._e():o("img",{attrs:{src:e("8c89"),alt:""}}),a.isShare&&t.shareWallet[a.money_code].length>1?o("img",{staticClass:"shareImg",attrs:{src:e("a5ac"),alt:""},on:{click:function(e){return t.shareMoney(a.money_code)}}}):t._e()])})),0)])]),o("van-popup",{attrs:{position:"bottom"},model:{value:t.gameAll,callback:function(a){t.gameAll=a},expression:"gameAll"}},[o("div",{staticClass:"head"},[o("img",{attrs:{src:e("9476"),alt:""},on:{click:function(a){t.gameAll=!1}}}),o("p",[t._v(t._s(t.$t("转出钱包")))])]),o("div",{staticClass:"choose"},t._l(t.walletList,(function(a,s){return o("div",{key:s,staticClass:"father"},[o("div",{staticClass:"item",on:{click:function(e){return t.chooseFather(a,s)}}},[o("p",{staticClass:"name"},[t._v(t._s(a.game_platform_name)+"("+t._s(a.money)+")")]),a.platform_list?o("img",{staticClass:"arrow_b",class:{active:-1!=t.activeList.indexOf(s)},attrs:{src:e("8c7a"),alt:""}}):t._e(),a.platform_list||0!=t.activeChooseFrom?t._e():o("img",{attrs:{src:e("8c89"),alt:""}})]),t._l(a.platform_list,(function(a,n){return o("div",{directives:[{name:"show",rawName:"v-show",value:-1!=t.activeList.indexOf(s),expression:"activeList.indexOf(index) != -1"}],key:n,staticClass:"son"},[o("p",{staticClass:"name",on:{click:function(e){return t.chooseSon(a)}}},[t._v(t._s(a.game_platform_name)+"("+t._s(a.money)+")")]),t.activeChooseFrom==a.game_platform_id?o("img",{attrs:{src:e("8c89"),alt:""}}):t._e(),a.isShare&&t.shareWallet[a.money_code].length>1?o("img",{staticClass:"shareImg",attrs:{src:e("a5ac"),alt:""},on:{click:function(e){return t.shareMoney(a.money_code)}}}):t._e()])}))],2)})),0)])],1)}),[],!1,null,"7d088d37",null);a.default=u.exports}}]);