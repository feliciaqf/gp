(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-181062e1"],{a0f7:function(t,a,n){},e17d:function(t,a,n){"use strict";n.r(a),n("7f7f");var e=n("ca47"),i=n("c428"),s=n("33ee"),o=n("7752"),d=n("d1c2"),c={name:"discountCore",components:{Loading:i.a,Lheader:e.a,ProvinceCity:s.a,BankcardList:o.a},data:function(){return{title:this.$t("新增银行卡"),show:!1,isName:!1,isLoading:!1,columns:[],bankText:"",addBank:{},province:"",city:"",branch:""}},methods:{onCancel:function(t,a){this.show=!1},onConfirm:function(t){this.bankText=t.name,this.addBank.bank_id=t.id,this.show=!1},onUpdateProvinceCity:function(t){this.province=t.province,this.city=t.city},submit:function(){var t=this;return this.addBank.card_no?this.bankText?this.province?this.city?this.branch?/^\d{16,20}$/.test(this.addBank.card_no)?/^[\u4e00-\u9fa5]{0,5}$/.test(this.addBank.name)?(this.addBank.access_token=window.localStorage.agToken,this.addBank.bank_of_deposit=this.province+this.city+this.branch,this.isLoading=!0,void Object(d.a)(this.addBank).then((function(a){var n=t;0===a.data.code?t.$toast({message:t.$t("提交成功"),onClose:function(){n.$router.push({path:"agBankBind"})}}):t.$toast(a.data.msg)})).finally((function(){t.isLoading=!1}))):(this.$toast(this.$t("输入真实姓名，最多5汉字")),!1):(this.$toast(this.$t("银行账户仅支持输入数字，16-20位")),!1):(this.$toast(this.$t("请填写开户分行")),!1):(this.$toast(this.$t("请选择城市")),!1):(this.$toast(this.$t("请选择省份")),!1):(this.$toast(this.$t("请选择银行")),!1):(this.$toast(this.$t("请输入银行账户")),!1)}},created:function(){try{var t=document.getElementsByClassName("container")[0].offsetTop;window.scrollTo(0,t)}catch(t){}this.$route.query.name&&(this.addBank.name=this.$route.query.name)}},r=(n("ff4e"),n("0c7c")),l=Object(r.a)(c,(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"container agAddBankBind"},[n("lheader",{attrs:{title:t.title,goback:!0,"get-switch":!1,kefu:!0}}),n("div",{staticClass:"main"},[n("div",{staticClass:"submit-form"},[n("div",{staticClass:"input"},[n("p",{staticClass:"title"},[t._v(t._s(t.$t("持卡人姓名")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.addBank.name,expression:"addBank.name"}],attrs:{type:"text",disabled:t.isName,placeholder:t.$t("请输入真实姓名")},domProps:{value:t.addBank.name},on:{input:function(a){a.target.composing||t.$set(t.addBank,"name",a.target.value)}}})]),n("div",{staticClass:"input"},[n("p",{staticClass:"title"},[t._v(t._s(t.$t("请输入银行卡卡号")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.addBank.card_no,expression:"addBank.card_no"}],attrs:{type:"text",placeholder:t.$t("请输入银行卡卡号")},domProps:{value:t.addBank.card_no},on:{input:function(a){a.target.composing||t.$set(t.addBank,"card_no",a.target.value)}}})]),n("div",{staticClass:"input"},[n("p",{staticClass:"title"},[t._v(t._s(t.$t("请选择银行")))]),n("BankcardList",{staticStyle:{flex:"1"},attrs:{bankText:t.bankText},on:{"update:bankText":function(a){t.bankText=a},"update:bank-text":function(a){t.bankText=a}},model:{value:t.addBank.bank_id,callback:function(a){t.$set(t.addBank,"bank_id",a)},expression:"addBank.bank_id"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.bankText,expression:"bankText"}],staticStyle:{"padding-right":"0"},attrs:{type:"text",readonly:"",placeholder:t.$t("请选择")},domProps:{value:t.bankText},on:{click:function(a){t.show=!0},input:function(a){a.target.composing||(t.bankText=a.target.value)}}})]),n("van-icon",{attrs:{name:"arrow"}})],1),n("p",{staticClass:"title"},[t._v(t._s(t.$t("开户省份和城市")))]),n("div",{staticClass:"input"},[n("p",{staticClass:"title"},[t._v(t._s(t.$t("开户支行")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.branch,expression:"branch"}],attrs:{type:"text",placeholder:t.$t("请输入开户支行")},domProps:{value:t.branch},on:{input:function(a){a.target.composing||(t.branch=a.target.value)}}})])]),n("div",{staticClass:"aagames-button-box"},[n("button",{staticClass:"aagames-button btnStyle10018",attrs:{type:"button"},on:{click:t.submit}},[t._v(t._s(t.$t("确定绑定")))])])]),n("loading",{attrs:{isShow:t.isLoading,title:t.$t("提交中...")}})],1)}),[],!1,null,"34cc10bc",null);a.default=l.exports},ff4e:function(t,a,n){"use strict";n("a0f7")}}]);