(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2df64a6a"],{1727:function(t,s,o){"use strict";o("9ca4")},"87b0":function(t,s,o){"use strict";o.r(s),o("8e6e"),o("456d");var e=o("ade3"),i=(o("c5f6"),o("ac6a"),o("2b0e")),a=o("2f62"),n=o("40ef"),c=o("bd8a"),r=o("d399");function h(t,s){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);s&&(e=e.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),o.push.apply(o,e)}return o}i.a.use(r.a);var l={name:"quotaTransfer",data:function(){return{start_time:void 0,end_time:void 0,title:this.$t("理财小金库"),params:{},showStartDate:!1,showEndDate:!1,showMoney:!1,boxShow:!1,deposit:this.$t("全部状态"),show:!1,columns:[],orginColumns:{},data:{merchant_no:"10031",access_token:window.localStorage.token,page:1,start_time:"",end_time:"",type:0},transrecordList:[],loading:!1,isLoading:!1,finished:!1,mwallte:{financing_money:0,max_profit:0,all_profit:0,month_profit:0,week_profit:0,day_profit:0},chooseFather:this.$t("理财小金库"),chooseSon:this.$t("主账户"),chooseText:"",chooseMoney:0,money:"",chooseID:0,chooseFatherID:0,chooseSonID:0,iconType:!1,changeMType:1,isTop:!1}},methods:{init:function(){this.moneywallet(),this.transrecord(),this.allmoneytranstype(),this.allmoneytype()},onLoad:function(){this.data.page++,this.transrecord(!0)},onRefresh:function(){this.data.page=1,this.transrecord()},moneywallet:function(){var t=this;Object(c.L)(this.data).then((function(s){0===s.data.code&&(t.mwallte=s.data.data)}))},transrecord:function(t){var s=this;r.a.loading({className:"toast-loading",mask:!0,forbidClick:!0,loadingType:"spinner",message:this.$t("加载中..."),duration:0});var o=Object.assign({},this.data);Object(c.ab)(o).then((function(o){r.a.clear(),0===o.data.code&&(s.isLoading=!1,s.loading=!1,s.transrecordList=t?s.transrecordList.concat(o.data.data.data):o.data.data.data,s.data.page>=o.data.data.last_page&&(s.finished=!0),s.transrecordList.forEach((function(t,o){0==o&&(t.sum=s.mwallte.financing_money),o>0&&(2==t.type?(t.sum=Number(s.transrecordList[o-1].sum)+Number(t.money),t.sum=t.sum.toFixed(2)):(t.sum=Number(s.transrecordList[o-1].sum)-Number(t.money),t.sum=t.sum.toFixed(2)))})))}))},allmoneytranstype:function(){var t=this;Object(c.e)(this.data).then((function(s){if(0===s.data.code){t.orginColumns=s.data.data;var o=[];for(var e in t.orginColumns)t.orginColumns.hasOwnProperty(e)&&o.push(t.orginColumns[e]);t.columns=o,t.columns.unshift(t.$t("全部"))}}))},moneytrans:function(){},onCancelStartDate:function(t){this.showStartDate=!1},onConfirm:function(t){this.deposit=this.columns[t],this.data.type=t,this.transrecord(),this.show=!1},onCancel:function(t){this.show=!1},transData:function(t){var s=this.orginColumns,o="";if(t!=this.$t("全部")){for(var e in s)if(s.hasOwnProperty(e)&&s[e]===t){o=e;break}}else o="";return o},goback:function(){this.$router.go(-1)},openMoney:function(t){this.showMoney=!0,this.money="",this.changeMType=t,1==t?(this.chooseFather=this.$t("理财小金库"),this.chooseSon=this.$t("主账户"),this.chooseMoney=this.mwallte.financing_money,this.chooseFatherID=this.chooseID,this.chooseSonID=0,this.iconType=!1):(this.chooseFather=this.$t("主账户"),this.chooseSon=this.$t("理财小金库"),this.chooseMoney=this.wallet.money,this.chooseFatherID=0,this.chooseSonID=this.chooseID,this.iconType=!1),this.chooseText=this.$t("你最多转入")+this.chooseMoney+this.$t("元")},goStep:function(){var t=this;if(this.money&&"0.00"!=this.money){var s={merchant_no:"10031",access_token:window.localStorage.token,from_platform_id:this.chooseFatherID,to_platform_id:this.chooseSonID,money:this.money,pay_password:"0"};r.a.loading({className:"toast-loading",mask:!0,forbidClick:!0,loadingType:"spinner",message:this.$t("转帐中..."),duration:0}),Object(c.K)(s).then((function(s){r.a.clear(),0===s.data.code?t.boxShow=!0:(Object(r.a)(s.data.msg),t.errText=s.data.msg)}),(function(s){t.errText=t.$t("转入失败")}))}},sure:function(){this.showMoney=!1,this.boxShow=!1,this.init()},allmoneytype:function(){var t=this;Object(c.f)(this.data).then((function(s){if(0===s.data.code){var o=s.data.data;for(var e in o)o[e]==t.$t("理财钱包")&&(t.chooseID=e)}}))},changeType:function(){this.iconType=!this.iconType,1==this.changeMType?this.iconType?(this.chooseMoney=this.wallet.money,this.chooseFatherID=0,this.chooseSonID=this.chooseID):(this.chooseMoney=this.mwallte.financing_money,this.chooseFatherID=this.chooseID,this.chooseSonID=0):2==this.changeMType&&(this.iconType?(this.chooseMoney=this.mwallte.financing_money,this.chooseFatherID=this.chooseID,this.chooseSonID=0):(this.chooseMoney=this.wallet.money,this.chooseFatherID=0,this.chooseSonID=this.chooseID)),this.chooseText=this.$t("你最多转入")+this.chooseMoney+this.$t("元")},showMsg:function(){this.$dialog.confirm({title:this.$t("温馨提示"),message:"".concat(this.$t("您当前收益率"),"：").concat((100*this.mwallte.day_rate).toFixed(2),"%<br/>\n").concat(this.$t("使用理财小金库可让您额外获得高额利息，收益率将按照转入金额*不同等级计算。发放时间为每天下午4点准时发放到您的理财钱包。")),showCancelButton:!1,messageAlign:"left"}).then((function(){})).catch((function(){}))}},computed:function(t){for(var s=1;s<arguments.length;s++){var o=null!=arguments[s]?arguments[s]:{};s%2?h(Object(o),!0).forEach((function(s){Object(e.a)(t,s,o[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))}))}return t}({},Object(a.d)("users",["wallet"])),filters:{filterLevel:function(t){return t.substr(5,t.length-8)}},created:function(){this.init()},components:{Lheader:n.a},mounted:function(){var t=this;document.querySelector(".container").onscroll=function(){var s=document.querySelector(".container").scrollTop;t.isTop=!!s}}},d=(o("1727"),o("0c7c")),m=Object(d.a)(l,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"wallet"}},[e("van-sticky",[e("div",{staticClass:"record-title"},[e("img",{attrs:{src:o("a582")},on:{click:t.goback}}),e("span",[t._v(t._s(t.$t("理财小金库")))]),e("span",{on:{click:function(s){t.show=!0}}},[t._v(t._s(t.$t("筛选")))])])]),e("div",{staticClass:"container",class:t.transrecordList.length>0?"":"walletEmpty"},[e("div",{staticClass:"aagames-header"}),e("div",{staticClass:"main"},[e("div",{staticClass:"total-content"}),e("div",{staticClass:"total-box"},[e("div",{staticClass:"total-amount"},[e("div",{staticClass:"item"},[e("div",[t._v("￥"+t._s(t.mwallte.financing_money||"0.00"))]),e("div",[t._v(t._s(t.$t("钱包总资产")))])]),e("div",{staticClass:"item"},[e("div",[t._v("￥"+t._s(t.mwallte.max_profit||"0.00"))]),e("div",[t._v(t._s(t.$t("最高收益")))])]),t.mwallte.hasOwnProperty("day_rate")?e("van-image",{staticClass:"help-icon",attrs:{src:t.$imgs["memberCenter/help@2x"]},on:{click:t.showMsg}}):t._e()],1),e("div",{staticClass:"income"},[e("div",{staticClass:"total-amount"},[e("div",{staticClass:"item",staticStyle:{"margin-top":".4rem"}},[e("div",[t._v("￥"+t._s(t.mwallte.all_profit.toFixed(2)||"0.00"))]),e("div",[t._v(t._s(t.$t("历史累计收益")))])]),e("div",{staticClass:"item",staticStyle:{"margin-top":".4rem"}},[e("div",[t._v("￥"+t._s(t.mwallte.month_profit.toFixed(2)||"0.00"))]),e("div",[t._v(t._s(t.$t("本月累计收益")))])])]),e("div",{staticClass:"total-amount"},[e("div",{staticClass:"item"},[e("div",[t._v("￥"+t._s(t.mwallte.week_profit.toFixed(2)||"0.00"))]),e("div",[t._v(t._s(t.$t("本周累计收益")))])]),e("div",{staticClass:"item"},[e("div",[t._v("￥"+t._s(t.mwallte.day_profit||"0.00"))]),e("div",[t._v(t._s(t.$t("昨日收益")))])])]),e("div",{staticClass:"incom-btn"},[e("div",{on:{click:function(s){return t.openMoney(1)}}},[t._v(t._s(t.$t("转出")))]),e("div",{on:{click:function(s){return t.openMoney(2)}}},[t._v(t._s(t.$t("转入")))])])])]),t.transrecordList.length>0?e("div",{staticClass:"lists"},[e("van-list",{attrs:{finished:t.finished,"finished-text":t.$t("没有更多了")},on:{load:t.onLoad},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},[e("div",{staticClass:"list"},t._l(t.transrecordList,(function(s,o){return e("div",{key:o,staticClass:"item"},[e("div",{staticClass:"blod"},[e("span",[t._v(t._s(t.orginColumns[s.type]))]),e("span",[t._v(t._s(2==s.type?"-":"+")+t._s(s.money))])]),e("div",[e("span",[t._v(t._s(t._f("filterLevel")(s.created_at))+" | "+t._s(s.trade_no))]),e("span",[t._v(t._s(s.sum||"0.00"))])])])})),0)])],1):e("div",{staticClass:"empty"},[e("div",{staticClass:"emptyWallet"}),e("div",{staticClass:"text"},[e("div",{staticClass:"chinese"},[t._v(t._s(t.$t("非常抱歉未查询到任何理财记录")))])])])])]),e("van-popup",{attrs:{position:"bottom"},model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[e("div",{staticClass:"head"},[e("img",{attrs:{src:o("9476"),alt:""},on:{click:function(s){t.show=!1}}}),e("p",[t._v(t._s(t.$t("筛选")))])]),e("div",{staticClass:"list"},t._l(t.columns,(function(s,o){return e("p",{key:o,class:{active:t.data.type==o},on:{click:function(s){return t.onConfirm(o)}}},[t._v(t._s(s))])})),0)]),e("van-popup",{attrs:{position:"bottom","close-icon-position":"top-left"},model:{value:t.showMoney,callback:function(s){t.showMoney=s},expression:"showMoney"}},[e("div",{staticClass:"head"},[e("img",{attrs:{src:o("9476"),alt:""},on:{click:function(s){t.showMoney=!1}}}),e("p",[t._v(t._s(t.$t("理财小金库转帐")))])]),e("div",{staticClass:"moneyBox"},[t.boxShow?t._e():e("div",[e("div",{staticClass:"account"},[e("div",{staticClass:"treasury"},[t._v(t._s(t.chooseFather))]),e("img",{class:{rotateChose:t.iconType},attrs:{src:o("8a05"),alt:""},on:{click:t.changeType}}),e("div",{staticClass:"master_account"},[t._v(t._s(t.chooseSon))])]),e("div",{staticClass:"tranfer_amount"},[e("p",{staticClass:"amount"},[t._v(t._s(t.$t("转入金额")))]),e("div",[e("span",{staticClass:"icon"},[t._v("￥")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],attrs:{type:"number",placeholder:t.chooseText},domProps:{value:t.money},on:{input:function(s){s.target.composing||(t.money=s.target.value)}}}),e("span",{staticClass:"all",on:{click:function(s){t.money=t.chooseMoney}}},[t._v(t._s(t.$t("全部转入")))])]),e("button",{staticClass:"btn",class:{active:t.money&&"0.00"!=t.money},on:{click:t.goStep}},[t._v(t._s(t.$t("确认转入")))])])]),t.boxShow?e("div",{staticClass:"finshBox"},[e("img",{attrs:{src:o("8c89"),alt:""}}),e("p",{staticClass:"money"},[t._v("¥"+t._s(t.money))]),e("p",{staticClass:"tishi"},[t._v(t._s(t.$t("转入成功")))]),e("van-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.sure}},[t._v(t._s(t.$t("确认")))]),e("div",{staticClass:"text"},[t._v(t._s(t.$t("取款流水验证有")))])],1):t._e()])])],1)}),[],!1,null,"0b2f0a61",null);s.default=m.exports},"9ca4":function(t,s,o){}}]);