(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-42efd5eb"],{"02a3":function(t,e,a){"use strict";a("cc52")},4070:function(t,e,a){"use strict";a.r(e),a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("7f7f"),a("6b54"),a("8e6e"),a("ac6a"),a("456d"),a("c5f6"),a("28a5");var s=a("ade3"),n=a("40ef"),i=a("bd8a"),o=a("fe01"),r=a("2f62"),l=(a("df7c"),a("2b0e")),c=a("d399");function d(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(t){if("string"==typeof t)return m(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?m(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var s=0,n=function(){};return{s:n,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,r=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){r=!0,i=t},f:function(){try{o||null==a.return||a.return()}finally{if(r)throw i}}}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}l.a.use(c.a);var p={name:"quotaTransfer",data:function(){return{icons:{},title:this.$t("游戏平台余额"),showKeyboard:!1,gameStatus:{},gameColumns:[],isOpen:2,isShow:1,columns:[{values:[],className:"column1"},{values:[],className:"column2"}],gameShow:!1,isDisabled:!1,type:"",list:{pay_password:"",from_platform_id:0,to_platform_id:""},errText:"",walletList:[],walletMoney:{},password:0,rotate:!1,data:{access_token:window.localStorage.token},loading:!1,loading1:!1,baseUrl:"/gp/",financing_money:"",all_platform_money:"",typeArr:["account","turn"],typeText:[this.$t("主账户"),this.$t("选择平台")],cIdx:0}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.d)("games",["gameCatesPlatforms"])),methods:{onInput:function(t){this.list.pay_password=(this.list.pay_password+t).slice(0,6)},refreshBalance:function(){this.walletM(1)},recovery:function(){var t=this;this.loading1=!0,Object(i.l)(this.data).then((function(e){t.loading1=!1,0===e.data.code?t.walletM(1):Object(c.a)(e.data.msg)}),(function(e){t.loading1=!1}))},onDelete:function(){this.list.pay_password=this.list.pay_password.slice(0,this.list.pay_password.length-1)},onGameConfirm:function(t){this.gameShow=!1,"account"===this.type?t[0].game_platform_name===this.$t("主账户")?(this.typeText[this.cIdx]=t[0].game_platform_name,this.list.from_platform_id=t[0].game_platform_id):(this.typeText[this.cIdx]=t[0].game_platform_name+" / "+t[1].game_platform_name,this.list.from_platform_id=t[1].game_platform_id):t[0].game_platform_name===this.$t("主账户")?(this.typeText[this.cIdx]=t[0].game_platform_name,this.list.to_platform_id=t[0].game_platform_id):(this.typeText[this.cIdx]=t[0].game_platform_name+" / "+t[1].game_platform_name,this.list.to_platform_id=t[1].game_platform_id)},onGameCancel:function(t){this.gameShow=!1},onChange:function(t,e,a){0===e[0].game_platform_id?t.setColumnValues(1,[]):t.setColumnValues(1,e[0].platform_list)},gameSelect:function(t,e){this.gameShow=!0,this.type=t,this.cIdx=e},submit:function(){var t=this;return null==this.list.from_platform_id?(this.errText=this.$t("请选择转出账户"),!1):null==this.list.to_platform_id?(this.errText=this.$t("请选择转入账户"),!1):this.list.money?isNaN(this.list.money)?(this.errText=this.$t("转账金额只能输入数字"),!1):this.list.pay_password.length<6?(this.errText=this.$t("输入6位资金密码"),!1):(c.a.loading({className:"toast-loading",mask:!0,forbidClick:!0,loadingType:"spinner",message:this.$t("转帐中..."),duration:0}),this.list.access_token=window.localStorage.token,void Object(i.X)(this.list).then((function(e){c.a.clear(),0===e.data.code?Object(c.a)(t.$t("额度转账成功")):(Object(c.a)(e.data.msg),t.errText=e.data.msg)}),(function(e){t.errText=t.$t("转账失败")}))):(this.errText=this.$t("请输入转账金额"),!1)},walletM:function(t){var e=this;Object(i.cb)(this.data).then((function(t){if(0===t.data.code)for(var a in e.loading=!1,e.isOpen=t.data.data.is_auto_trans||"2",e.all_platform_money=t.data.data.all_platform_money,e.financing_money=t.data.data.financing_money,t.data.data){var s=a.split("_")[0];e.$set(e.walletMoney,s,t.data.data[a])}}),(function(t){e.loading=!1}))},changeType:function(){var t=this.typeArr,e=this.typeText,a=Object.assign({},this.list);this.typeText=[e[1],e[0]],this.typeArr=[t[1],t[0]],this.list.from_platform_id=a.to_platform_id,this.list.to_platform_id=a.from_platform_id},update:function(t){this.isOpen=t},setFundPassword:function(t){var e={name:"accountSecurity",query:{type:t,getPath:"withdraw"}};window.localStorage.setItem("verifyNextRoute",JSON.stringify(e)),1==t?this.$router.push(e):this.$router.push("verifyIdentity")}},created:function(){var t=this;Object(o.a)().then((function(e){t.password=e.data.data.is_pay_password})),Object(i.i)(this.data).then((function(e){if(0===e.data.code){t.gameStatus=e.data.data;var a=[{id:0,text:t.$t("主账户")}];for(var s in e.data.data)a.push({id:Number(s),text:e.data.data[s]});t.gameColumns=a}}));var e,a=JSON.parse(JSON.stringify(this.gameCatesPlatforms)),s=d(a);try{for(s.s();!(e=s.n()).done;){var n=e.value;n.game_platform_name=n.game_cate_name}}catch(t){s.e(t)}finally{s.f()}a.unshift({game_platform_name:this.$t("主账户"),game_platform_id:0}),this.walletList=a,this.columns[0].values=a,this.columns[1].values=a[0].platform_list,this.walletM();var r=document.documentElement.clientHeight||document.body.clientHeight;window.onresize=function(){var t=document.documentElement.clientHeight||document.body.clientHeight;r-t>60?document.getElementById("apply").classList.add("focusState"):document.getElementById("apply").classList.remove("focusState")}},watch:{isOpen:function(t){this.isOpen=t}},components:{Lheader:n.a}},f=(a("02a3"),a("0c7c")),_=Object(f.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("lheader",{attrs:{title:t.title,path:"111",turn:t.isOpen,showTurn:t.isShow},on:{"update:showTurn":function(e){t.isShow=e},"update:show-turn":function(e){t.isShow=e},update:t.update}}),a("div",{staticClass:"container"},[a("div",{class:{pb2rem:1==t.isOpen},attrs:{id:"apply"}},[a("div",{staticClass:"main"},[2==t.isOpen?[a("div",{staticClass:"account"},[a("div",{staticClass:"aagames-label"},[t._v(t._s(t.$t("账户选择")))]),a("div",{staticClass:"aagames-bank-select-box"},[a("div",{staticClass:"select"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.typeText[0],expression:"typeText[0]"}],attrs:{readonly:"",type:"text"},domProps:{value:t.typeText[0]},on:{click:function(e){return t.gameSelect(t.typeArr[0],0)},input:function(e){e.target.composing||t.$set(t.typeText,0,e.target.value)}}}),a("i",{staticClass:"el-icon-caret-bottom"})])]),a("div",{staticClass:"aagames-bank-select-box"},[a("div",{staticClass:"select"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.typeText[1],expression:"typeText[1]"}],attrs:{readonly:"",type:"text"},domProps:{value:t.typeText[1]},on:{click:function(e){return t.gameSelect(t.typeArr[1],1)},input:function(e){e.target.composing||t.$set(t.typeText,1,e.target.value)}}}),a("i",{staticClass:"el-icon-caret-bottom"})])])]),a("div",{staticClass:"aagames-label"},[t._v(t._s(t.$t("转账资金")))]),a("div",{staticClass:"aagames-input-box",staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"input"},[a("span",[t._v("￥")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.list.money,expression:"list.money"}],attrs:{type:"text",onkeyup:"value=value.replace(/[^\\d\\.]/g,'')",onblur:"value=value.replace(/[^\\d\\.]/g,'')"},domProps:{value:t.list.money},on:{input:function(e){e.target.composing||t.$set(t.list,"money",e.target.value)}}})])]),a("div",{staticClass:"password"},[a("p",{staticClass:"label"},[t._v(t._s(t.$t("资金密码")))]),1!==t.password?a("div",{staticClass:"aagames-input-password"},[a("van-password-input",{attrs:{value:t.list.pay_password,focused:t.showKeyboard},on:{focus:function(e){t.showKeyboard=!0}}}),a("div",{staticClass:"forgetPass"},[a("span",{on:{click:function(e){return t.setFundPassword(2)}}},[t._v(t._s(t.$t("忘记资金密码")))])])],1):a("div",{staticClass:"aagames-bank-select-box"},[a("div",{staticClass:"select"},[a("input",{attrs:{readonly:"",type:"text"},domProps:{value:t.$t("您还未设置资金密码")},on:{click:function(e){return t.setFundPassword(1)}}}),a("i",{staticClass:"el-icon-arrow-right"})])]),a("p",{staticClass:"error-msg"},[t._v(t._s(t.errText))])]),a("div",{staticClass:"aagames-button-box"},[a("button",{staticClass:"aagames-button",attrs:{type:"button"},on:{click:t.submit}},[t._v(t._s(t.$t("确认提交")))])])]:t._e(),a("div",{staticClass:"balance-detail"},[a("div",{staticClass:"item"},[a("span",[t._v(t._s(t.$t("游戏平台余额")))]),1==t.isOpen?a("span",[t._v(t._s(t.all_platform_money))]):t._e(),2==t.isOpen?a("div",[a("van-button",{attrs:{loading:t.loading,type:"default",text:t.$t("刷新全部"),"loading-text":t.$t("加载中...")},on:{click:t.refreshBalance}}),a("van-button",{attrs:{loading:t.loading1,type:"danger",plain:"",text:t.$t("收回余额"),"loading-text":t.$t("加载中...")},on:{click:t.recovery}})],1):t._e()]),1==t.isOpen?a("div",{staticClass:"item"},[a("span",[t._v(t._s(t.$t("钱包余额")))]),a("span",[t._v(t._s(t.financing_money))])]):t._e()]),a("div",{staticClass:"gameBalance"},[t._l(t.walletList,(function(e,s){return[e.game_cate_id&&6!=e.game_cate_id?a("div",{key:s,staticClass:"list"},[a("p",{staticClass:"item-header"},[a("img",{attrs:{src:t.icons[e.game_cate_id],alt:e.game_cate_name}}),a("span",[t._v(t._s(e.game_cate_name))])]),a("van-row",{attrs:{gutter:"20"}},t._l(e.platform_list,(function(e,s){return a("van-col",{key:s,attrs:{span:"6"}},[a("p",{staticClass:"label"},[t._v(t._s(e.game_platform_name))]),a("p",{staticClass:"value"},[t._v("\n                  ￥"+t._s(t.walletMoney[e.game_platform_code]?t.walletMoney[e.game_platform_code]:"0.00")+"\n                ")])])})),1)],1):t._e()]}))],2)],2)])]),1==t.isOpen?a("div",{staticClass:"footer"},[a("van-button",{attrs:{loading:t.loading,type:"default",text:t.$t("刷新全部"),"loading-text":t.$t("加载中...")},on:{click:t.refreshBalance}}),a("van-button",{attrs:{loading:t.loading1,type:"danger",plain:"",text:t.$t("收回余额"),"loading-text":t.$t("加载中...")},on:{click:t.recovery}})],1):t._e(),a("van-popup",{attrs:{position:"bottom"},model:{value:t.gameShow,callback:function(e){t.gameShow=e},expression:"gameShow"}},[a("van-picker",{attrs:{columns:t.columns,"value-key":"game_platform_name","show-toolbar":!0},on:{confirm:t.onGameConfirm,cancel:t.onGameCancel,change:t.onChange}})],1),a("van-number-keyboard",{attrs:{"safe-area-inset-bottom":"",show:t.showKeyboard},on:{input:t.onInput,delete:t.onDelete,blur:function(e){t.showKeyboard=!1}}})],1)}),[],!1,null,"eaeac100",null);e.default=_.exports},cc52:function(t,e,a){}}]);